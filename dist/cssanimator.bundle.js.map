{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["Animator","element","config","Node","Error","id","Math","random","toString","substring","param","classNameStyleElement","classNameElement","keyframesName","keyframes","from","to","percents","stylesHead","stylesElement","stylesElementDefault","afters","timerHandler","animation","duration","parameter","effect","delay","iteration","direction","fill","state","key","params","step","percent","after","move","push","run","_cssRemove","_cssCreate","_cssInsert","_runAfter","stop","_cssElementRemove","pause","isInit","_elementComputedStyle","_addStyle2Element","_runAfterTimerHandlerClear","_cssElementInsert","document","querySelector","clearTimeout","sec","indexOf","parseInt","setTimeout","forEach","callback","animationCSS","style","cssPart","Object","keys","name","k","query","createElement","classList","add","textContent","head","appendChild","removeChild","remove","_cssElementRead","attr","getAttribute","result","attrArr","split","it","trim","itArr","length","setAttribute","getComputedStyle","prop","_init","selector","value","undefined","CssValue","separator","end","SEPARATOR","VALUE_END","window"],"mappings":"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","file":"cssanimator.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","\nfunction Animator (element, config) {\n    if (!(this instanceof Animator))\n        return new Animator (element, config || {});\n\n    if (!(element instanceof Node ))\n        throw new Error('Animator say: target is not NodeElement');\n\n    const id = Math.random().toString(36).substring(2, 15);\n\n    this.param = {\n        element: element,\n        classNameStyleElement: 'style-' + id,\n        classNameElement: 'element-' + id,\n        keyframesName: 'move-' + id,\n        keyframes: {from: {}, to: {}, percents: {}},\n        stylesHead: '',\n        stylesElement: {},\n        stylesElementDefault: {},\n        afters: [],\n        timerHandler: null,\n        animation: {\n            'name': 'none',\n            'duration': '1s',\n            'timing-function': 'ease-in-out',\n            'delay': '0s',\n            'iteration-count': 1,\n            'direction': 'normal',\n            'fill-mode': 'none',\n            'play-state': 'running',\n        },\n    };\n\n    this.duration = function(param) { this.parameter ('duration', param); return this;};\n    this.effect = function(param) { this.parameter ('timing-function', param); return this;};\n    this.delay = function(param) { this.parameter ('delay', param); return this;};\n    this.iteration = function(param) { this.parameter ('iteration-count', param); return this;};\n    this.direction = function(param) { this.parameter ('direction', param); return this;};\n    this.fill = function(param) { this.parameter ('fill-mode', param); return this;};\n    this.state = function(param) { this.parameter ('play-state', param); return this;};\n\n    this.parameter = function (key, param) {\n        if (this.param.animation[key])\n            this.param.animation[key] = param;\n        return this;\n    };\n\n    this.from = function (params) {\n        this.param.keyframes.from = params;\n        return this;\n    };\n\n    this.to = function (params) {\n        this.param.keyframes.to = params;\n        return this;\n    };\n\n    this.step = function (percent, params) {\n        this.param.keyframes.percents[percent] = params;\n        return this;\n    };\n\n    this.after = function (move) {\n        this.param.afters.push(move);\n        return this;\n    };\n\n    this.run = function () {\n        this._cssRemove();\n        this._cssCreate();\n        this._cssInsert();\n        this._runAfter();\n        return this;\n    };\n\n    this.stop = function () {\n        this._cssRemove();\n        this._cssElementRemove();\n        return this;\n    };\n\n    this.pause = function () {\n        if (this.isInit()) {\n            if (this._elementComputedStyle('animation-play-state') === 'running') {\n                this._addStyle2Element('animation-play-state', 'paused');\n                this._runAfterTimerHandlerClear();\n            } else {\n                this._addStyle2Element('animation-play-state', 'running');\n                this._runAfter();\n            }\n            this._cssElementInsert();\n        }\n        return this;\n    };\n\n    this.isInit = function () {\n        return !!document.querySelector('.' + this.param.classNameStyleElement);\n    };\n\n\n    /* Internal */\n    this._runAfterTimerHandlerClear = function () {\n        clearTimeout(this.param.timerHandler);\n    };\n    this._runAfter = function () {\n        const {element, animation, timerHandler, afters} = this.param;\n        const sec = animation.duration.indexOf('s')\n            ? parseInt(animation.duration) * 1000\n            : parseInt(animation.duration);\n\n        const delay = animation.delay.indexOf('s')\n            ? parseInt(animation.delay) * 1000\n            : parseInt(animation.delay);\n\n        this._runAfterTimerHandlerClear();\n        if (this.param.animation['iteration-count'].indexOf('infinite') === -1 )\n            this.param.timerHandler = setTimeout( () => {\n                afters.forEach(function (callback) {\n                    callback.run();\n                });\n                // todo: test for removed style\n                this._cssRemove();\n            }, sec + delay);\n    };\n    this._cssCreate = function () {\n        const {keyframes, keyframesName, classNameElement, animation} = this.param;\n        const animationCSS = {};\n        let style = ``;\n\n        style += cssPart('from', keyframes.from);\n        style += cssPart('to', keyframes.to);\n        Object.keys(keyframes.percents).forEach(function (key) {\n            style += cssPart(key, keyframes.percents[key]);\n        });\n        style = `@keyframes ${keyframesName} {\\n${style}}\\n`;\n\n        animation.name = keyframesName;\n        Object.keys(animation).forEach(function (k) {\n            animationCSS['animation-' + k] = animation[k];\n        });\n        style += cssPart('.' + classNameElement, animationCSS);\n\n        this.param.stylesHead = style;\n        return style;\n    };\n    this._cssInsert = function () {\n        const {element, classNameElement, classNameStyleElement, stylesHead} = this.param;\n        if (!query('.' + classNameElement) && !query('.' + classNameStyleElement)) {\n            const style = document.createElement('style');\n            element.classList.add(classNameElement);\n            style.classList.add(classNameStyleElement);\n            style.textContent = stylesHead;\n            document.head.appendChild(style);\n        }\n    };\n    this._cssRemove = function () {\n        const {element, classNameElement, classNameStyleElement} = this.param;\n        const style = query('.' + classNameStyleElement);\n        if (style) {\n            document.head.removeChild(style);\n            element.classList.remove(classNameElement);\n        }\n    };\n    this._cssElementRead = function () {\n        const attr = this.param.element.getAttribute('style');\n        if (attr) {\n            const result = {};\n            const attrArr = attr.split(';');\n            attrArr.forEach(function (it) {\n                it = it.trim();\n                let itArr = it.trim().split(':');\n                if (itArr && itArr.length === 2) {\n                    result[itArr[0].trim()] = itArr[1].trim();\n                }\n            });\n            this.param.stylesElementDefault = result;\n        }\n    };\n    this._cssElementInsert = function () {\n        const {element, stylesElement, stylesElementDefault} = this.param;\n        let style = '';\n        Object.keys(stylesElementDefault).forEach(function (key) {\n            style += key + ': ' + stylesElementDefault[key] + ';';\n        });\n        Object.keys(stylesElement).forEach(function (key) {\n            style += key + ': ' + stylesElement[key] + ';';\n        });\n        element.setAttribute('style', style);\n    };\n    this._cssElementRemove = function () {\n        const {element, stylesElementDefault} = this.param;\n        let style = '';\n        Object.keys(stylesElementDefault).forEach(function (key) {\n            style += key + ': ' + stylesElementDefault[key] + ';';\n        });\n        element.setAttribute('style', style);\n    };\n    this._elementComputedStyle = function (name) {\n        return getComputedStyle(this.param.element)[name];\n    };\n    this._addStyle2Element = function (name, prop) {\n        if (name && prop)\n            this.param.stylesElement[name] = prop;\n    };\n\n    this._init = function () {\n        this._cssElementRead();\n    };\n\n\n    /* Utils */\n    const query = function (selector) {\n        return document.querySelector(selector);\n    };\n    const attr = function (element, attr, value) {\n        if (value !== undefined)\n            return element.setAttribute(attr, value);\n        else\n            return element.getAttribute(attr);\n    };\n    const cssPart = function (name, params) {\n        let style = ``;\n        Object.keys(params).forEach(function (key) {\n            style += `${key}: ${params[key]};\\n`;\n        });\n        return `${name} {\\n${style}}\\n`;\n    };\n\n    this._init();\n}\n\n\nAnimator.CssValue = function(param, separator, end) {\n    let result = '';\n    separator = separator || Animator.CssValue.SEPARATOR;\n    end = end || Animator.CssValue.VALUE_END;\n    Object.keys(param).forEach((key) => {\n        result += key + separator + param[key] + end\n    });\n    return result;\n};\nAnimator.CssValue.SEPARATOR = '';\nAnimator.CssValue.VALUE_END = ' ';\n\nwindow.Animator = Animator;"],"sourceRoot":""}